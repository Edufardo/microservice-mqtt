import {
  MessageSecurityMode,
  OPCUAClient,
  SecurityPolicy,
} from 'node-opcua-client';

export const connectionStrategy = {
  initialDelay: 1000,
  maxRetry: 1,
};

export const options = {
  applicationName: 'trafficPlc',
  connectionStrategy: connectionStrategy,
  securityMode: MessageSecurityMode.None,
  securityPolicy: SecurityPolicy.None,
  endpoint_must_exist: false,
};
export const trafficClient = OPCUAClient.create(options);

export const CONECTION_SUCCESSFUL = 'Connection with TRAFIC PLC established';
export const CONECTION_CLOSED = 'Connection with TRAFIC PLC closed';
export const SESSION_SUCCESSFUL = 'Session with TRAFIC PLC created';
export const SESSION_CLOSED = 'Session with TRAFIC PLC closed';
export const GLOBAL_ERROR = 'An error has occured with AGV PLC : ';

export class TrafficConnectionError extends Error {
  constructor(message) {
    super(message);
    this.name = 'TrafficConnectionError'; // (2)
  }
}

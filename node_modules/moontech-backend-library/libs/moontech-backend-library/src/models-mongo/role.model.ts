import * as mongoose from 'mongoose';
import { Document } from 'mongoose';
import { IPermission, permissionSchema } from './permission.model';

export interface IRole extends Document {
  name: string;
  permissions: IPermission[];
}

export const roleSchema = new mongoose.Schema<IRole>(
  {
    name: { 
      type: String, 
      required: true, 
      lowercase: true, 
      unique: true 
    },
    permissions: { type: [mongoose.Schema.Types.ObjectId], ref: 'Permission', required: true },
  },
  {
    timestamps: true,
  },
);
